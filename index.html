<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MVK Sea Foods</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- PDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
:root{
  --primary:#0b2c3d;
  --accent:#25D366;
  --bg:#f4f6f8;
  --card:#ffffff;
  --gold:#d4af37;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,Arial;background:var(--bg)}

header{
  background:linear-gradient(135deg,#0b2c3d,#123f55);
  color:#fff;text-align:center;padding:22px 14px
}
.logo{
  width:90px;height:90px;border-radius:50%;
  border:3px solid var(--gold);background:#fff
}
header h1{margin:10px 0 4px;font-size:24px}
header p{margin:0;font-size:13px}

.section{padding:14px;padding-bottom:180px}
.products{
  display:grid;grid-template-columns:repeat(2,1fr);gap:14px
}

.product{
  background:var(--card);
  border-radius:16px;
  padding:10px;
  box-shadow:0 6px 16px rgba(0,0,0,.08);
  text-align:center;
}
.product img{
  width:100%;aspect-ratio:1/1;object-fit:contain;
  border-radius:12px;background:#fff
}
.product.out{
  opacity:.45;pointer-events:none;position:relative
}
.product.out::after{
  content:"OUT OF STOCK";
  position:absolute;inset:0;
  display:flex;align-items:center;justify-content:center;
  background:rgba(255,255,255,.75);
  color:#b00000;font-weight:700;border-radius:16px
}
.product h4{margin:6px 0 2px}
.telugu{font-size:12px;color:#666}
.price{font-weight:600;margin:6px 0}

.controls{
  display:flex;gap:8px;margin-top:6px
}
.controls button{
  flex:1;height:36px;font-size:20px;
  border:none;border-radius:10px;
  background:var(--primary);color:#fff
}

.cart{
  position:fixed;bottom:0;left:0;right:0;
  background:#fff;box-shadow:0 -4px 20px rgba(0,0,0,.15);
  padding:14px;display:flex;
  justify-content:space-between;align-items:center
}
.cart button{
  background:var(--accent);color:#fff;
  border:none;padding:12px 18px;
  font-size:16px;border-radius:10px
}

/* ADMIN */
.admin{
  display:none;background:#fff;margin:14px;
  padding:14px;border-radius:16px;
  box-shadow:0 6px 16px rgba(0,0,0,.1)
}
.admin-row{
  display:grid;
  grid-template-columns:1fr 80px 100px;
  gap:8px;margin-bottom:8px
}

/* THANK YOU */
.thankyou{
  display:none;position:fixed;inset:0;
  background:rgba(0,0,0,.55);z-index:9999
}
.thankyou-box{
  background:#fff;padding:22px;border-radius:18px;
  text-align:center;width:86%;max-width:360px;
  position:absolute;top:50%;left:50%;
  transform:translate(-50%,-50%)
}
</style>
</head>

<body>

<header>
<img src="mvk-logo.png" class="logo" id="logo">
<h1>MVK Sea Foods</h1>
<p>Fresh Fish ‚Ä¢ Live Crab ‚Ä¢ Premium Prawns</p>
<p class="telugu">‡∞§‡∞æ‡∞ú‡∞æ ‡∞ö‡±á‡∞™‡∞≤‡±Å ‚Ä¢ ‡∞≤‡±à‡∞µ‡±ç ‡∞™‡±Ä‡∞§‡∞≤‡±Å ‚Ä¢ ‡∞™‡±ç‡∞∞‡±Ä‡∞Æ‡∞ø‡∞Ø‡∞Ç ‡∞∞‡±ä‡∞Ø‡±ç‡∞Ø‡∞≤‡±Å</p>
</header>

<!-- ADMIN PANEL -->
<div class="admin" id="adminPanel">
<h3>üîê Admin Panel</h3>
<div id="adminList"></div>
<button onclick="downloadInvoice()">üìÑ Download PDF Invoice</button>
</div>

<div class="section">
<div class="products" id="productList"></div>
</div>

<div class="cart">
<div>Total ‚Çπ<span id="total">0</span></div>
<button onclick="orderNow()">WhatsApp Order</button>
</div>

<!-- THANK YOU -->
<div id="thankyou" class="thankyou">
<div class="thankyou-box">
<h3>üôè Thanks for ordering!</h3>
<p>Order ID: <b id="oid"></b></p>
<p><b>Delivery within 1 hour</b></p>
<p class="telugu"><b>‡∞Æ‡±Ä ‡∞Ü‡∞∞‡±ç‡∞°‡∞∞‡±ç 1 ‡∞ó‡∞Ç‡∞ü‡∞≤‡±ã ‡∞Ö‡∞Ç‡∞¶‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø</b></p>
<p style="font-size:13px">7 ‡∞∏‡±Ü‡∞ï‡∞®‡±ç‡∞≤‡∞≤‡±ã WhatsApp ‡∞ï‡±Å ‡∞Æ‡∞æ‡∞∞‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø‚Ä¶</p>
</div>
</div>

<script>
const ADMIN_PASSWORD="MVK@123";
const PHONE="918688918266";

const items=[
{name:"White Pomfret",tel:"‡∞µ‡±Ü‡∞Ç‡∞°‡∞ø ‡∞™‡∞æ‡∞Ç‡∞™‡±ç‚Äå‡∞∞‡±Ü‡∞ü‡±ç",price:800,img:"white-pomfret.jpg"},
{name:"Black Pomfret",tel:"‡∞¨‡±ç‡∞≤‡∞æ‡∞ï‡±ç ‡∞™‡∞æ‡∞Ç‡∞™‡±ç‚Äå‡∞∞‡±Ü‡∞ü‡±ç",price:700,img:"black-pomfret.jpg"},
{name:"Vanjaram",tel:"‡∞µ‡∞Ç‡∞ú‡∞∞‡∞Ç ‡∞ö‡±á‡∞™",price:900,img:"vanjaram.jpg"},
{name:"Tuna",tel:"‡∞ü‡±ç‡∞Ø‡±Ç‡∞®‡∞æ ‡∞ö‡±á‡∞™",price:600,img:"tuna.jpg"},
{name:"Mud Crab",tel:"‡∞Æ‡∞ü‡±ç‡∞ü‡∞ø ‡∞™‡±Ä‡∞§",price:1200,img:"mud-crab.jpg"},
{name:"Blue Crab",tel:"‡∞®‡±Ä‡∞≤‡∞ø ‡∞™‡±Ä‡∞§",price:900,img:"blue-crab.jpg"},
{name:"Tiger Prawns",tel:"‡∞ü‡±à‡∞ó‡∞∞‡±ç ‡∞∞‡±ä‡∞Ø‡±ç‡∞Ø‡∞≤‡±Å",price:1100,img:"tiger-prawns.jpg"},
{name:"Vannamei Prawns",tel:"‡∞µ‡∞®‡∞æ‡∞Æ‡±Ä ‡∞∞‡±ä‡∞Ø‡±ç‡∞Ø‡∞≤‡±Å",price:850,img:"vannamei-prawns.jpg"}
];

let prices={},cart={},stock={},orderId="",tap=0;

items.forEach(i=>{
prices[i.name]=i.price;
stock[i.name]=true;
});

/* PRODUCTS */
const list=document.getElementById("productList");
items.forEach(i=>{
list.innerHTML+=`
<div class="product" id="p-${i.name}">
<img src="images/${i.img}">
<h4>${i.name}</h4>
<div class="telugu">${i.tel}</div>
<div class="price">‚Çπ<span id="price-${i.name}">${i.price}</span> / kg</div>
<div id="qty-${i.name}">0 kg</div>
<div class="controls">
<button onclick="qty('${i.name}',-1)">‚àí</button>
<button onclick="qty('${i.name}',1)">+</button>
</div>
</div>`;
});

/* ADMIN */
const adminList=document.getElementById("adminList");
items.forEach(i=>{
adminList.innerHTML+=`
<div class="admin-row">
<b>${i.name}</b>
<input type="number" value="${i.price}" onchange="updatePrice('${i.name}',this.value)">
<button onclick="toggleStock('${i.name}')">Stock</button>
</div>`;
});

/* LOGIC */
function qty(item,d){
if(!stock[item])return;
cart[item]=(cart[item]||0)+d;
if(cart[item]<0)cart[item]=0;
document.getElementById("qty-"+item).innerText=cart[item]+" kg";
calc();
}
function calc(){
let t=0;
for(let i in cart)t+=cart[i]*prices[i];
document.getElementById("total").innerText=t;
}
function toggleStock(i){
stock[i]=!stock[i];
document.getElementById("p-"+i).classList.toggle("out");
}
function updatePrice(i,v){
prices[i]=Number(v);
document.getElementById("price-"+i).innerText=v;
calc();
}

/* ORDER */
function orderNow(){
let total=document.getElementById("total").innerText;
if(total==0)return alert("‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞â‡∞§‡±ç‡∞™‡∞§‡±ç‡∞§‡±Å‡∞≤‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø");

orderId="MVK-"+Date.now();
document.getElementById("oid").innerText=orderId;
document.getElementById("thankyou").style.display="block";

let msg="MVK Sea Foods Order%0AOrder ID: "+orderId+"%0A%0A";
for(let i in cart){
if(cart[i]>0){
msg+=i+" - "+cart[i]+" kg √ó ‚Çπ"+prices[i]+" = ‚Çπ"+(cart[i]*prices[i])+"%0A";
}}
msg+="%0ATotal: ‚Çπ"+total+"%0ADelivery within 1 hour / 1 ‡∞ó‡∞Ç‡∞ü‡∞≤‡±ã";

setTimeout(()=>{
if(/Android/i.test(navigator.userAgent)){
window.location.href=
"intent://send?phone="+PHONE+"&text="+msg+
"#Intent;scheme=smsto;package=com.whatsapp;end";
}else{
window.location.href=
"https://wa.me/"+PHONE+"?text="+msg;
}
},7000);
}

/* ADMIN ACCESS */
document.getElementById("logo").onclick=()=>{
tap++;
if(tap===5){
let p=prompt("Enter Admin Password");
if(p===ADMIN_PASSWORD){
document.getElementById("adminPanel").style.display="block";
}else alert("Wrong password");
tap=0;
}
};

/* PDF */
function downloadInvoice(){
const {jsPDF}=window.jspdf;
const pdf=new jsPDF();
pdf.text("MVK Sea Foods Invoice",20,20);
pdf.text("Order ID: "+orderId,20,30);
let y=40;
for(let i in cart){
if(cart[i]>0){
pdf.text(`${i} - ${cart[i]} kg √ó ‚Çπ${prices[i]} = ‚Çπ${cart[i]*prices[i]}`,20,y);
y+=10;
}}
pdf.text("Total: ‚Çπ"+document.getElementById("total").innerText,20,y+10);
pdf.save(orderId+".pdf");
}
</script>

</body>
</html>
